<abilityTypes>
    <type
        id="PUNCH"
        name="Punch"
        tooltip="Basic melee attack. [@1 damage]"
        cooldown="0.6"
        manaCost="7"
        icon="abilities/fist.png"
		sound="swordArmor.wav"
        soundVolume="1.2">
        <links>
            <link>./action/effect/@amount</link>
        </links>
        <action
            type="AFFECT_TARGETS">
            <target
                type="ONE_IN_FRONT"
                targetTeam="EVIL">
            </target>
            <effect
	            type="LOSE_HEALTH"
	            amount="12"
	            ignoreArmor="false">
				<animation>
                    <image>abilities/explosion.png</image>
                </animation> 
			</effect>
        </action>
    </type>
    
    <type
        id="RUN"
        name="Run"
        tooltip="Increased movement speed [x@1] for @2 seconds."
        cooldown="20"
        manaCost="20"
        icon="abilities/boh.gif"
        sound="wobble3.wav"
       	soundVolume="1">
        <links>
            <link>./action/effect/buff/@multiplier</link>
            <link>./action/effect/buff/@duration</link>
        </links>
       	<action
       	    type="AFFECT_TARGETS">
            <target
                type="SELF"> 
            </target>
            <effect
	           	type="RECEIVE_BUFF">
				<buff
				    type="ATTRIBUTE_MULTIPLIER"
				    attribute="MOVEMENT_SPEED"
	           		buffId="RUN_BUFF"
					multiplier="1.6"
					duration="7">
					<animation
				  	 	width="65"
				    	height="65"
				    	blinking="true">
				    	<image>abilities/whiteStripes.png</image>
					</animation>       
				</buff> 
            </effect>
        </action>
    </type>
    
    
    <type
        id="THREE_BOMB"
        name="3x Bomb"
        tooltip="Burn adjacent foes causing them to take @1 damage 4 times over 4 seconds."
        cooldown="9"
        manaCost="35"
        icon="abilities/fire.png"
        sound="fireWater3.wav"
       	soundVolume="1.4">
       	<links>
            <link>./action/effect/buff/effect/@amount</link>
        </links>
        <action
            type="AFFECT_TARGETS">
            <target
				type="ADJACENT"
                targetTeam="EVIL">
				<animation
				    scaleToTile="false">
				    <image>abilities/fire.png</image>
				</animation> 
			</target>
            <effect
                type="RECEIVE_BUFF">
            	<buff
	                type="REPEAT_EFFECT_ON_SELF"
	                buffId="THREE_BOMB_DOT"
	                cooldown="1"
            		duration="4.5">
            		<effect
            		    type="LOSE_HEALTH"
						amount="16"
						ignoreArmor="false"/>
	                <animation
						scaleToTile="false">
				    	<image>abilities/fire.png</image>
					</animation>
				</buff> 
            </effect> 
        </action>
    </type>
    
    <type
        id="LIGHTNING"
        name="Lightning"
        tooltip="Fire a long beam of lightning that stuns and damages all foes that are hit. [stun @1 seconds, @2 damage]"
        cooldown="1.4"
        manaCost="65"
        icon="abilities/lightning.png"
        sound="flameArrow3.wav"
       	soundVolume="1.4">
        <links>
            <link>./action/effect/effect[2]/@stun</link>
            <link>./action/effect/effect[1]/@amount</link>
        </links>
        <action
            type="AFFECT_TARGETS">
	        <target
	            type="LINE_AHEAD"
	            distance="5"
	            skipNFirstSquares="0"
                targetTeam="EVIL">
	            <animation>
	                <image>abilities/lightning.png</image>
	            </animation>
	        </target>
	        <effect
	            type="COMPOSITE">
		        <effect
		           	type="LOSE_HEALTH"
					amount="37"
					ignoreArmor="false"> 
		        </effect>
		        <effect
		            type="STUN"
		            duration="0.8"/>
	        </effect>
        </action>
    </type>
    
    <type
        id="IRON"
        name="Iron"
        tooltip="Gain +@1 armor and a shield that absorbs @2 damage. Lasts @3 seconds."
        cooldown="12"
        manaCost="20"
        icon="abilities/armor.png"
        sound="wobble3.wav"
       	soundVolume="1">
        <links>
            <link>./action/effect/effect[1]/buff/@amount</link>
            <link>./action/effect/effect[2]/buff/@amount</link>
            <link>./action/effect/effect[1]/buff/@duration</link>
        </links>
        <action
            type="AFFECT_TARGETS">
       	 	<target
       	 	    type="SELF"/>
       	 	<effect
       	 	    type="COMPOSITE">
	       	 	<effect
	       	 	    type="RECEIVE_BUFF">
			        <buff
			            type="ARMOR"
	       	 	    	buffId="IRON_ARMOR_BUFF"
	       	 	    	duration="10"
	       	 	    	amount="3">
	       	 	    </buff>
	       	 	</effect>
	       	 	<effect
	       	 	    type="RECEIVE_BUFF">
	       	 	    <buff
	       	 	    	type="SHIELD"
	       	 	    	buffId="IRON_SHIELD_BUFF"
	       	 	    	duration="10"
	       	 	    	amount="45"/> 
	       	    </effect>
	       	</effect>
       	</action>

    </type>
    
    <type
        id="HEALING"
        name="Healing"
        tooltip="Instantly restore @1 health."
        cooldown="14"
        manaCost="70"
        icon="abilities/healingIcon.png"
        sound="swooshMagic3.wav"
       	soundVolume="1">
        <links>
            <link>./action/effect/@amount</link>
        </links>
        <action
            type="AFFECT_TARGETS">
        	<target
        	    type="SELF">
        	</target>
        	<effect
				type="HEALING"
				amount="140">
        	    <animation
        	        width="110"
        	        height="110">
        	        <image>abilities/healing.png</image>
        	        <image>abilities/healing2.png</image>
        	        <image>abilities/healing3.png</image>
        	    </animation>
        	</effect>
		</action>
    </type>
    
    <type
        id="BASH"
        name="Bash"
        tooltip="Slow but strong melee attack that stuns its target. [stun @1 seconds, @2 damage]"
        cooldown="1.2"
        manaCost="20"
        icon="abilities/shield.png"
    	sound="flameArrow3.wav"
       	soundVolume="1.3">
        <links>
            <link>./action/effect/effect[2]/@duration</link>
            <link>./action/effect/effect[1]/@amount</link>
        </links>
        <action
            type="AFFECT_TARGETS">
        	<target
        	    type="ONE_IN_FRONT"
        	    targetTeam="EVIL">
        	</target>
        	<effect
        	    type="COMPOSITE">
	        	<effect
	        	    type="LOSE_HEALTH"
	        	    amount="30"
	        	    ignoreArmor="false">
	        	    <animation>
	        	        <image>abilities/bash.png</image>
	        	    </animation>
	        	</effect>
	        	<effect
	        	    type="STUN"
	        	    duration="1.5"/>
        	</effect>
        </action>
    </type>
    
    <type
        id="BREATH"
        name="Breath"
        tooltip="Foes in a square formation in front of hero are poisoned, taking @1 damage every @2 seconds. Lasts @3 seconds."
        cooldown="2.5"
        manaCost="50"
        icon="abilities/QuadSerpent.png"
    	sound="fireWater3.wav"
       	soundVolume="1.4">
        <links>
            <link>./action/effect/buff/effect/@amount</link>
            <link>./action/effect/buff/@cooldown</link>
            <link>./action/effect/buff/@duration</link>
        </links>
        <action
            type="AFFECT_TARGETS">
        	<target
        	    type="RECTANGLE_AHEAD"
        	    skipNFirstSquares="0"
        	    width="5"
        	    length="5"
                targetTeam="EVIL">
        	    <animation
        	        duration="90">
        	        <image>abilities/poison.png</image>
        	        <image>abilities/poison2.png</image>
        	    </animation>
        	</target>
        	<effect
        	    type="RECEIVE_BUFF">
        	    <buff
	        	    type="REPEAT_EFFECT_ON_SELF"
	        	    buffId="BREATH_DOT"
					cooldown="0.5"
					duration="7">
        	        <effect
        	            type="LOSE_HEALTH"
        	            amount="5"
        	            ignoreArmor="true"/>
        	        <animation
        	        	duration="90">
        	        	<image>abilities/poison.png</image>
        	        	<image>abilities/poison2.png</image>
        	    	</animation>
        	    </buff>   
        	</effect>
        </action>
			
    </type>
    
    <type
    	id="FOCUS"
    	name="Focus"
    	tooltip="Gain @1 mana per second for @2 seconds. The first spell cast within this time, will give back its mana cost."
    	cooldown="12"
    	manaCost="0"
    	icon="abilities/bubble.png"
    	sound="swooshMagic3.wav"
       	soundVolume="1">
       	<links>
       		<link>./action/effect/buff/buff[2]/effect/@amount</link>
       		<link>./action/effect/buff/buff[2]/@duration</link>
       	</links>
       	<action
       		type="AFFECT_TARGETS">
       		<target
       			type="SELF"/>
       		<effect
       			type="RECEIVE_BUFF">
       			<buff
       				type="COMPOSITE">
       				<buff
	       				type="ACTION_WHEN_SPEND_MANA"
	       				buffId="FOCUS_BUFF"
	       				duration="5.5">
	       				<contextParameterMap>
	       					<mapping
	       						contextVariable="MANA_CHANGE_AMOUNT"
	       						parameter="AMOUNT"
	       						valueMultiplier="-1"/>
	       				</contextParameterMap>
	       				<animation
		       	 	        width="100"
		       	 	        height="100"
		       	 	        duration="160">
		       	 	        <image>abilities/blueBuff.png</image>
		       	 	        <image>abilities/blueBuff2.png</image>
		       	 	    </animation>
						<action
							type="AFFECT_TARGETS">
							<target
								type="SELF"/>
							<effect
								type="CHANGE_MANA"
								amount="0"/>
						</action>
		      		</buff>
		      		<buff
		      			type="REPEAT_EFFECT_ON_SELF"
		      			duration="5.5"
		      			buffId="FOCUS_REGEN_BUFF"
		      			cooldown="1">
		      			<effect
		      				type="CHANGE_MANA"
		      				amount="10"/>
		      		</buff>
	      		</buff>
      		</effect>
  		</action>	
	</type>
    
    <type
    	id="MEDITATE"
    	name="Meditate"
    	tooltip="Stop everything else and search within yourself for @1 seconds. @2 mana is regenerated every @3 seconds. A magic shield absorbs up to @4 damage during this time."
    	cooldown="70"
    	manaCost="0"
    	icon="abilities/bubble.png"
    	sound="swooshMagic3.wav"
       	soundVolume="1">
       	<links>
       		<link>./action/effect/effect[1]/buff/buff[1]/@duration</link>
       		<link>./action/effect/effect[1]/buff/buff[2]/effect/@amount</link>
       		<link>./action/effect/effect[1]/buff/buff[2]/@cooldown</link>
       		<link>./action/effect/effect[1]/buff/buff[1]/@amount</link>
       	</links>
     	<action
     		type="AFFECT_TARGETS">
     		<target
     			type="SELF"/>
     		<effect
     			type="COMPOSITE">
     			<effect
	     			type="RECEIVE_BUFF">
	     			<buff
	     				type="COMPOSITE">
	     				<buff
	     					type="SHIELD"
	     					duration="5"
	     					amount="150"
	     					buffId="MEDITATE_SHIELD"/>
	     				<buff
	     					type="REPEAT_EFFECT_ON_SELF"
	     					duration="5"
	     					cooldown="0.5"
	     					buffId="MEDITATE_REPEAT">
	     					<effect
	     						type="CHANGE_MANA"
	     						amount="15"/>
	     				</buff>
	     			</buff>
	 			</effect>
	 			<effect
	 				type="STUN"
	 				duration="5"/>
	 		</effect>
    	</action>
	</type>

	<type
        id="HOT"
        name="HOT"
        tooltip="Regenerate @1 health every @2 seconds. Lasts @3 seconds."
        cooldown="15"
        manaCost="50"
        icon="abilities/bubble.png"
    	sound="swooshMagic3.wav"
       	soundVolume="1">
        <links>
            <link>./action/effect/buff/effect/@amount</link>
            <link>./action/effect/buff/@cooldown</link>
            <link>./action/effect/buff/@duration</link>
        </links>
        <action
			type="AFFECT_TARGETS">
        	<target
        	    type="SELF"/>
        	<effect
        	    type="RECEIVE_BUFF">
        	    <buff
        	        type="REPEAT_EFFECT_ON_SELF"
        	    	buffId="HOT_BUFF"
					cooldown="0.5"
					duration="10">
        	        <effect
        	            type="HEALING"
        	            amount="10"/>
	        	    <animation
	        	        width="80"
	        	        height="80">
	        	        <image>abilities/healing.png</image>
	        	        <image>abilities/healing2.png</image>
	        	    </animation>
        	    </buff>
        	</effect>
        </action>
    </type>
    
	<type
        id="VAMPIRE"
        name="Vampire"
        tooltip="Bite up to 3 foes in melee range, causing @1 damage and restoring @2 health for each foe."
        cooldown="0.800"
        manaCost="25"
        icon="abilities/bite.gif"
    	sound="swordArmor.wav"
       	soundVolume="1.2">
        <links>
            <link>./action/effect/@damageAmount</link>
            <link>./action/effect/@healingAmount</link>
        </links>
        <action
            type="AFFECT_TARGETS">
        	<target
        	    type="RECTANGLE_AHEAD"
        	    width="3"
        	    length="1"
        	    skipFirstNSquares="0"
                targetTeam="EVIL">
        	</target>
        	<effect
        	    type="DRAIN_LIFE"
				damageAmount="12"
				healingAmount="5">
        	    <animation
        	        duration="120">
        	        <image>abilities/death.png</image>
        	        <image>abilities/death2.png</image>
        	    </animation>
        	</effect>
        </action>
    </type>
    
    <type
        id="SPRINT"
        name="Sprint"
        tooltip="Increased movement speed [x@1] for @2 seconds."
        cooldown="2.5"
        manaCost="10"
        icon="abilities/boh.gif"
        sound="wobble3.wav"
       	soundVolume="1">
        <links>
            <link>./action/effect/buff/@multiplier</link>
            <link>./action/effect/buff/@duration</link>
        </links>
        <action
            type="AFFECT_TARGETS">
            <target
                type="SELF"></target>
            <effect
                type="RECEIVE_BUFF">
        	    <buff
				    type="ATTRIBUTE_MULTIPLIER"
				    attribute="MOVEMENT_SPEED"
	           		buffId="SPRINT_BUFF"
					multiplier="2.3"
					duration="1">
					<animation
	                    width="65"
	                    height="65"
	                    duration="70">
	                    <image>abilities/sprint1.png</image>
	                    <image>abilities/sprint2.png</image>
	                </animation>      
				</buff> 
                
            </effect>
        </action>
    </type>

    <type
        id="SHOCK"
        name="Shock"
        tooltip="Electrify the air, shocking all nearby foes for @1 damage and stunning them for @2 seconds. [Range = @3]"
        cooldown="7"
        manaCost="80"
        icon="abilities/bubble.png"
        sound="bomb.wav"
       	soundVolume="0.8">
        <links>
            <link>./action/effect/effect[1]/@amount</link>
            <link>./action/effect/effect[2]/@duration</link>
            <link>./action/target/@range</link>
        </links>
        <action 
            type="AFFECT_TARGETS">
            <target
                type="IN_RANGE"
                range="2.8"
                targetTeam="EVIL">
                <animation
                    width="170"
                    height="170"
                    duration="170">
                    <image>abilities/lightBuff1.png</image>
                    <image>abilities/lightBuff2.png</image>
                </animation>
            </target>
            <effect
                type="COMPOSITE">
	            <effect
		           	type="LOSE_HEALTH"
					amount="30"	
					ignoreArmor="true">
	                <animation
	                    width="110"
	                    height="110"
	                    duration="130">
	                    <image>abilities/lightBuff1.png</image>
	                    <image>abilities/lightBuff2.png</image>
	                </animation>
	            </effect>
	            <effect
	                type="STUN"
	                duration="2"/>
            </effect>
        </action>
    </type>
    
    <type
        id="GENIUS"
        name="Genius"
        tooltip="Enter a mode of pure energy for @1 seconds. Mana regeneration is increased [x@2]. All nearby foes @3 damage every @4 seconds. [Range = @5]"
        cooldown="45"
        manaCost="1"
        icon="abilities/genius.png"
        sound="wobble3.wav"
       	soundVolume="1">
        <links>
            <link>./action/action[1]/effect/buff/@duration</link>
            <link>./action/action[1]/effect/buff/@multiplier</link>
            <link>./action/action[2]/effect/buff/action/effect/@amount</link>
            <link>./action/action[2]/effect/buff/@cooldown</link>
            <link>./action/action[2]/effect/buff/action/target/@range</link>
        </links>
        
        
        <action
            type="COMPOSITE">
	       
            <action
                type="AFFECT_TARGETS">
	            <target
	                type="SELF"></target>
	            <effect
		           	type="RECEIVE_BUFF">
	                <buff
	                    buffId="GENIUS_MANA_REGEN"
	                    type="ATTRIBUTE_MULTIPLIER"
		           		attribute="MANA_REGEN"
						multiplier="6"
						duration="12">
					</buff>
	            </effect>
	        </action>
	        
	        <action
	            type="AFFECT_TARGETS">
	            <target
	                type="SELF"/>
	            <effect
	                type="RECEIVE_BUFF">
	                <buff
	                    type="REPEAT_ACTION"
	                    cooldown="0.5"
	                    duration="8"
	                    buffId="GENIUS_AOE">
	                    <action
	                        type="AFFECT_TARGETS">
	                        <target
	                            type="IN_RANGE"
	                            range="4"
	                            targetTeam="EVIL">
	                             <animation
				                    width="65"
				       	 	        height="65"
				       	 	        duration="160">
				                    <image>abilities/blueBuff.png</image>
				                    <image>abilities/blueBuff2.png</image>
				                </animation>
			                </target>
	                        <effect
								type="LOSE_HEALTH"
								amount="3"
								ignoreArmor="true">
	                             <animation
				                    scaleToTile="false">
				                    <image>abilities/lightBuff1.png</image>
				                    <image>abilities/lightBuff2.png</image>
				                    <image>abilities/lightBuff3.png</image>
				                </animation>
	                        </effect>
	                    </action>
	                </buff>
                </effect>
           	</action>

        </action>
    </type>
    
    <type
        id="FURY"
        name="Fury"
        tooltip="Enter a mode of blind rage, jumping between nearby foes [Range=@1] dealing @2 damage and stunning them for @3 seconds."
        cooldown="40"
        manaCost="150"
        icon="abilities/furyIcon.png"
        sound="wobble3.wav"
       	soundVolume="1">
       	<links>
       		<link>./action/effect/buff/action/target/@range</link>
       		<link>./action/effect/buff/action/effect/effect[2]/@amount</link>
       		<link>./action/effect/buff/action/effect/effect[3]/@duration</link>
       	</links>
        <action
            type="AFFECT_TARGETS">
            <target
				type="SELF"/>
            <effect
                type="RECEIVE_BUFF">
                <buff
                    type="REPEAT_ACTION"
                    cooldown="0.4"
                    duration="3"
                    buffId="FURY_BUFF">
                    <action
                        type="AFFECT_TARGETS">
                        <target
                            type="IN_RANGE"
                            range="3"
                            targetTeam="EVIL"
                            maxNumTargets="1"/>
                        <effect
                            type="COMPOSITE_UNTIL_FAIL">
                            <effect
                                type="TELEPORT_TO_TARGET">
                                 <animation
				       	 	        width="65"
				       	 	        height="65"
				       	 	        duration="160">
				       	 	        <image>abilities/blueBuff.png</image>
				       	 	        <image>abilities/blueBuff2.png</image>
				       	 	    </animation>
                            </effect>
                            <effect
                            	type="FACE_TARGET"/>
                            <effect
                                type="LOSE_HEALTH"
                                amount="35"
                                ignoreArmor="false">
                                <animation
                                    width="110"
                                    height="110"
                                    duration="80">
                                    <image>abilities/lightBuff1.png</image>
                                    <image>abilities/lightBuff2.png</image>
                                </animation>
                            </effect>
                            <effect
                            	type="STUN"
                            	duration="1.5"/>
                        </effect>
                    </action>
                </buff>
            </effect>
        </action>   
    </type>
    
    <type
        id="DEBUG_GOD"
        name="DEBUG_GOD"
        tooltip="Kills all that comes close. useful for debugging :)"
        cooldown="0"
        manaCost="0"
        icon="abilities/fist.png"
		sound="swordArmor.wav"
        soundVolume="0">
        <action
            type="AFFECT_TARGETS">
            <target
                type="SELF">
            </target>
            <effect
            	type="RECEIVE_BUFF">
            	<buff
            		buffId="DEBUG_GOD_BUFF"
		            type="REPEAT_ACTION"
		            cooldown="0.1">
					<action
						type="AFFECT_TARGETS">
						<target 
							type="IN_RANGE"
							range="6"
							targetTeam="EVIL"/>
						<effect
							type="LOSE_HEALTH"
							amount="99999999"/>
					</action>
				</buff>
			</effect>
        </action>
    </type>
    
    
</abilityTypes>
    